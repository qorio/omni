package passport;

// Generalized account / user schema

message Attribute {
    required string key = 1;
    optional string string_value = 2;
    optional int64 int_value = 3;
    optional double double_value = 4;
    optional bool bool_value = 5;
}


message Login {
	required string id = 1;
	required string email = 2;
	required string password = 3;
	required string accountId = 4;  // "" means primary
}

message Service {
	required string status = 1;
	required string application = 2;
	required string id = 3;
	required double startTimestamp = 4;
	repeated Attribute attributes = 5;
}

message Account {
	required string id = 1;
	required Login primary = 2;
	required double createdTimestamp = 3; // unix seconds
	repeated Service services = 4;
}